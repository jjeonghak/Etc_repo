# 원시 값과 객체의 비교

### 원시값
원시 타입의 값은 변경 불가능한 값  
한번 생성된 원시 값은 읽기 전용 값  
원시 값을 변수에 할당하면 변수에는 실제 값이 저장  

````javascript
// 재할당이 금지된 변수
const o = {};

// const 키워드를 사용해 선언한 변수에 할당된 원시 값 변경 불가
// 하지만 const 키워드를 사용해 선언한 변수에 할당된 객체는 변경 가능
o.a = 1;
console.log(o);    // {a: 1}
````

<br>

### 문자열과 불변성
원시 값 저장을 위해 먼저 메모리 공간의 크기를 결정해야 함  
문자열(8bit), 숫자(32bit) 이외의 원시 타입은 크기 규정 안함  
C에서는 하나의 문자를 위한 데이터 타입(char)만 존재(문자열을 문자의 배열로 취급)  
자바에서는 String 객체로 처리  
자바스크립트는 원시 타입인 문자열 타입 제공  
문자열 타입을 유사 배열처럼 사용 가능(하지만 값 변경은 불가)  

````javascript
var str = "string";

str[0] = "S";
console.log(str);    // string
````

<br>

### 값에 의한 전달
변수에 원시 값 변수를 할당한 경우 깊은 복사 발생  

````javascript
var score = 80;
var copy = score;

score = 100;

console.log(score);    // 100
console.log(copy);     // 80
````

<br>

### 객체
객체는 프로퍼티 갯수가 정해져 있지 않음(동적으로 제어 가능)  
원시 값과 다르게 확보해야할 메모리 공간의 크기를 사전에 정의 불가  

객체 관리 방식
> 키를 인덱스로 사용하는 해시 테이블로 생각 가능  
> 자바, C++ 언어의 경우 클래스 기반으로 정의되어 있는 객체  
> 즉 다른 객체 지향 언어보다 유동적이지만 비용이 많이 소요  
> 프로퍼티 접근을 위해 동적 탐색이 아닌 히든 클래스 방식 사용  
> C++ 객체 프로퍼티 접근 정도의 성능 보장  
> 자바 고정된 객체 레이아웃과 유사하게 동작  

<br>

### 변경 가능한 값
객체 타입의 값은 변경가능한 값  
객체 내부 필드에 원시 값을 할당한 변수는 원시 값 자체를 값으로 갖음  
객체 자체를 할당한 변수는 참조 값에 접근  
여러 개의 식별자가 하나의 객체를 공유 가능(얕은 복사)  

<br>

### 참조에 의한 전달
두 개 이상의 식별자가 하나의 객체를 공유  
객체 값을 갖는 변수는 메모리에 참조 값을 저장하기 때문에 그 값을 그대로 복사  
결국 자바스크립트는 값에 의한 전달만 있을 뿐(단, 변수에 저장된 값이 참조값)  

````javascript
var person = {
  name: "Lee"
};

var copy = person;

console.log(copy === person);    // true

copy.name = "Kim";
person.address = "Seoul";

console.log(person);             // {name: "Kim", address: "Seoul"}
console.log(copy);               // {name: "Kim", address: "Seoul"}
````

<br>
